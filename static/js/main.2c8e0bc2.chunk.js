(this.webpackJsonptaskboard=this.webpackJsonptaskboard||[]).push([[0],{18:function(e,t,a){e.exports=a(32)},31:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),l=a(2),c=n.createContext({}),o=function(e){var t=e.children,a=n.useState(""),r=Object(l.a)(a,2),s={theme:r[0],setTheme:r[1]};return n.createElement(c.Provider,{value:s},t)},i=a(4),u=a(3),m=a(5),d=a.n(m);a(27),a(29);d.a.initializeApp({apiKey:"AIzaSyCf4r4_JiAWZjMYxHx2oPdOOPBunUeG9zg",authDomain:"taskboard-drethedev.firebaseapp.com",databaseURL:"https://taskboard-drethedev.firebaseio.com",projectId:"taskboard-drethedev",storageBucket:"taskboard-drethedev.appspot.com",messagingSenderId:"868447749524",appId:"1:868447749524:web:bc280f2ee21da6c3fe7b81"});var b=d.a,k=a(11),f=a.n(k),h=n.createContext({}),E=function(e){var t=e.children,a=n.useState({dbRef:"public/",loggedIn:!1}),r=Object(l.a)(a,2),s=r[0],c=r[1],o=n.useState(!0),i=Object(l.a)(o,2),u=i[0],m=i[1];n.useEffect((function(){b.auth().onAuthStateChanged((function(e){e&&c({dbRef:e.uid+"/",loggedIn:!0}),m(!1)}))}),[]);var d={user:s,checkForUser:u,setUser:c,signInUser:function(){var e=new b.auth.GoogleAuthProvider;b.auth().signInWithPopup(e).then((function(e){var t=e.user;t&&c({dbRef:t.uid+"/",loggedIn:!0}),m(!0)})).catch((function(e){f.a.fire({title:"Oops!",text:"There was an error signing in: "+e,icon:"error",confirmButtonText:"OK"})}))},logoutUser:function(){b.auth().signOut().then((function(){c({dbRef:"public/",loggedIn:!1}),m(!0)})).catch((function(e){f.a.fire({title:"Oops!",text:"There was an error while logging out: "+e,icon:"error",confirmButtonText:"OK"})}))}};return n.createElement(h.Provider,{value:d},t)},p=n.createContext({}),g=function(e){var t=e.children,a=n.useState(!1),r=Object(l.a)(a,2),s=r[0],c=r[1],o=n.useState([]),i=Object(l.a)(o,2),u=i[0],m=i[1],b=n.useContext(h),k=b.user,f=b.checkForUser,E=n.useState("all"),g=Object(l.a)(E,2),_=g[0],v=g[1],N=n.useState(""),C=Object(l.a)(N,2),O=C[0],B=C[1],y=n.useState([]),F=Object(l.a)(y,2),I=F[0],x=F[1],S=n.useCallback((function(){k&&k.dbRef&&function(e,t){d.a.database().ref(e).on("value",(function(e){var a=e.val(),n=[];for(var r in a){var s={key:r,task:a[r].task,status:a[r].status};n.push(s)}t(n)}))}(k.dbRef,m)}),[k]);n.useEffect((function(){f||(S(),c(!0))}),[f,S]);n.useEffect((function(){if(O){var e=new RegExp(O,"i"),t=u.filter((function(t){var a=t.task;return e.test(a)}));x(t)}}),[O,u]);var T=O.length?I:u,j={taskStatus:"all"===_?["open","inProgress","complete"]:[_],taskItems:T,numOfTasks:T.length,loadComplete:s,searchTerms:O,setSearchItems:x,setSearchTerms:B,setListFilter:v};return n.createElement(p.Provider,{value:j},t)},_=function(){var e=Object(n.useContext)(c),t=e.theme,a=e.setTheme,s=Object(n.useContext)(h),l=s.user,o=s.signInUser,i=s.logoutUser,u=Object(n.useContext)(p),m=u.taskItems,b=u.loadComplete,k=m?m.length:0;return r.a.createElement("div",{className:"settings"},r.a.createElement("button",{onClick:function(){var e;l&&(e=l.dbRef,d.a.database().ref(e).remove())},className:"btn btn--black btn__taskBoard btn__taskBoard--clear",disabled:0===k},"Clear Task Board"),b?l&&l.loggedIn?r.a.createElement("button",{onClick:i,className:"btn btn--green btn__taskBoard btn__taskBoard--auth"},"Log Out"):r.a.createElement("button",{onClick:o,className:"btn btn--red btn__taskBoard btn__taskBoard--auth"},"Sign In With Google"):null,r.a.createElement("input",{className:"themeToggle__checkbox sr-only",type:"checkbox",name:"themeToggle",id:"themeToggle",onChange:function(){a&&a("dark"===t?"":"dark")},defaultChecked:"dark"===t}),r.a.createElement("label",{className:"themeToggle__label",htmlFor:"themeToggle"},"dark"===t?"Light":"Dark"," Mode ",r.a.createElement("span",{className:"themeToggle__toggler"})))},v=function(){var e=n.useState(!1),t=Object(l.a)(e,2),a=t[0],r=t[1];return n.createElement("header",null,n.createElement("div",{className:"wrapper displayContainer"},n.createElement("div",{className:"header__text"},n.createElement("h1",null,"Task Board"),n.createElement("p",null,"Add and track tasks to increase productivity!")),n.createElement("div",{className:"header__buttons"},n.createElement("h2",{onClick:function(){return r((function(e){return!e}))}},n.createElement("span",null,"Settings "),n.createElement("span",{className:"header__menuToggleIcon"},n.createElement(i.a,{icon:a?u.f:u.b}))),a&&n.createElement(_,null))))},N=function(){var e=n.useContext(p),t=e.setListFilter,a=e.searchTerms,r=e.setSearchTerms,s=e.setSearchItems,l=e.numOfTasks,c=function(e){t&&t(e)};return n.createElement("section",{className:"taskBoard__menu"},n.createElement("fieldset",{className:"taskBoard__listFilter"},n.createElement("div",{className:"inputContainer__filter"},n.createElement("legend",{className:"srOnly"},"Filter the task items by list"),n.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterAll",value:"all",onChange:function(){return c("all")},defaultChecked:!0}),n.createElement("label",{className:"btn btn--black",htmlFor:"filterAll"},"All"),n.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterOpen",value:"open",onChange:function(){return c("open")}}),n.createElement("label",{className:"btn btn--red",htmlFor:"filterOpen"},"Open"),n.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterInProgress",value:"inProgress",onChange:function(){return c("inProgress")}}),n.createElement("label",{className:"btn btn--blue",htmlFor:"filterInProgress"},"In Progress"),n.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterComplete",value:"complete",onChange:function(){return c("complete")}}),n.createElement("label",{className:"btn btn--green",htmlFor:"filterComplete"},"Complete"))),n.createElement("div",{className:"inputContainer__searchBar"},n.createElement("label",{htmlFor:"searchTerms",className:"srOnly"},"Search for task items"),n.createElement("input",{className:"taskBoard__searchBar",type:"text",name:"searchTerms",id:"searchTerms",placeholder:"search",onChange:function(e){r&&l&&r(e.target.value)},value:a}),a?n.createElement(n.Fragment,null,n.createElement("label",{htmlFor:"searchBarBtn",className:"srOnly"},"Button to clear the search terms"),n.createElement("button",{id:"searchBarBtn",className:"taskBoard__searchBarBtn",onClick:function(){s&&r&&(r(""),s([]))}},n.createElement(i.a,{className:"taskBoard__searchBarIcon--clear",icon:u.f,"aria-hidden":"true"}))):n.createElement(i.a,{className:"taskBoard__searchBarIcon",icon:u.e,"aria-hidden":"true"})))},C=a(17),O=a.n(C),B=function(e){var t=e.id,a=e.type,r=e.taskValue,s=e.closeForm,c=Object(n.useContext)(h).user,o=Object(n.useState)(r||""),i=Object(l.a)(o,2),u=i[0],m=i[1];Object(n.useEffect)((function(){var e=document.querySelector("#taskFormInput_".concat(t));e&&e!==document.activeElement&&(O()(e),e.value="",e.focus(),e.value=u)}),[t,u]);return n.createElement(n.Fragment,null,n.createElement("h3",{className:"taskForm__heading"},"edit"===a?"Edit Task":"New Task"),n.createElement("form",{action:"#",onSubmit:"edit"===a?function(e){var a,n,r;e.preventDefault(),c&&(a=c.dbRef,n=t,r=u,d.a.database().ref(a+n).update({task:r}),s())}:function(e){e.preventDefault();var a={task:u,status:t};c&&(!function(e,t){d.a.database().ref(e).push(t)}(c.dbRef,a),s())},onBlur:function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||s()}),5)},className:"taskForm"},n.createElement("label",{htmlFor:"taskFormInput_".concat(t),className:"srOnly"},"Task Item"),n.createElement("textarea",{className:"taskForm__input",id:"taskFormInput_".concat(t),name:"taskFormInput",onChange:function(e){m(e.target.value)},value:u}),u&&n.createElement(n.Fragment,null,n.createElement("label",{htmlFor:"taskBtn__clear--".concat(t),className:"srOnly"},"Clear task input"),n.createElement("button",{id:"taskBtn__clear--".concat(t),type:"button",onClick:function(){return m("")},className:"btn btn--black"},"Clear")),"edit"===a&&n.createElement(n.Fragment,null,n.createElement("label",{htmlFor:"taskBtn__delete--".concat(t),className:"srOnly"},"Delete task"),n.createElement("button",{id:"taskBtn__delete--".concat(t),type:"button",onClick:function(){var e,a;c&&(s(),e=c.dbRef,a=t,d.a.database().ref(e).child(a).remove())},className:"btn btn--red"},"Delete")),n.createElement("label",{htmlFor:"taskBtn__save--".concat(t),className:"srOnly"},"Save task input"),n.createElement("button",{id:"taskBtn__save--".concat(t),className:"btn btn--green",disabled:0===u.length},"edit"===a?"Save":"Add")))},y=function(e){var t=e.id,a=e.task,s=e.status,c=Object(n.useState)(!1),o=Object(l.a)(c,2),m=o[0],b=o[1],k=Object(n.useContext)(h).user,f=Object(n.useContext)(p).taskStatus,E=function(e){if(k&&f){var a=f.indexOf(s)+e;a=a<0?0:a>=f.length?f.length-1:a,s!==f[a]&&function(e,t){d.a.database().ref(e).update({status:t})}(k.dbRef+t,f[a])}},g=function(){b((function(e){return!e}))};return r.a.createElement("li",{className:"taskItem taskItem--".concat(s)},"open"!==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"btnPrev--".concat(t),className:"srOnly"},"Move task to the previous status"),r.a.createElement("button",{id:"btnPrev--".concat(t),className:"taskItem__btn taskItem__btn--prev",onClick:function(){E(-1)}},r.a.createElement(i.a,{icon:u.c,"aria-hidden":"true"}),r.a.createElement("span",{className:"srOnly"},"Move task to the previous status"))),m?r.a.createElement(B,{id:t,type:"edit",taskValue:a,closeForm:function(){return b(!1)}}):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskItem--".concat(t),className:"srOnly"},"Click or focus on the text of the task to enter edit mode and modify or delete the task"),r.a.createElement("button",{id:"taskItem--".concat(t),className:"taskItem__text",onClick:g,onFocus:g},a)),"complete"!==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"btnNext--".concat(t),className:"srOnly"},"Move task to the previous status"),r.a.createElement("button",{id:"btnNext--".concat(t),className:"taskItem__btn taskItem__btn--next",onClick:function(){E(1)}},r.a.createElement(i.a,{icon:u.d,"aria-hidden":"true"}),r.a.createElement("span",{className:"srOnly"},"Click to move task to the next status"))))},F=function(e){var t=e.status,a=e.tasks,s=Object(n.useState)(!1),c=Object(l.a)(s,2),o=c[0],m=c[1],b=Object(n.useState)(!1),k=Object(l.a)(b,2),f=k[0],E=k[1],p=Object(n.useContext)(h).user;return r.a.createElement("div",{className:"taskList"},r.a.createElement("div",{className:"taskList__header taskList__header--".concat(t)},r.a.createElement("label",{htmlFor:"taskListMenuBtn--".concat(t),className:"srOnly"},"Click the button to toggle the task list menu to clear the task list's items"),r.a.createElement("button",{id:"taskListMenuBtn--".concat(t),className:f?"btn taskList__menuBtn taskList__menuBtn--active":"btn taskList__menuBtn",onClick:function(){return E((function(e){return!e}))}},r.a.createElement("span",{className:"srOnly"},"Toggle the task list's menu"),f?r.a.createElement(i.a,{icon:u.f}):r.a.createElement(i.a,{icon:u.a})),r.a.createElement("h2",{className:"taskList__headingText"},{open:"Todo",inProgress:"In Progress",complete:"Completed"}[t],a.length>0&&r.a.createElement("span",{className:"taskList__count"},a.length)),f?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskListClearBtn--".concat(t),className:"srOnly"},"Click the button to clear the task list's items"),r.a.createElement("button",{id:"taskListClearBtn--".concat(t),onClick:function(){if(p&&a.length){var e=a.filter((function(e){return e.status===t})).reduce((function(e,t){return e[t.key]=null,e}),{});!function(e,t){d.a.database().ref(e).update(t)}(p.dbRef,e)}E(!1)},className:"btn btn--black taskList__clearBtn",disabled:0===a.length},"Clear List")):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskListAddBtn--".concat(t),className:"srOnly"},"Click the button to toggle the add new task form"),r.a.createElement("button",{id:"taskListAddBtn--".concat(t),onClick:function(){return m((function(e){return!e}))},className:"btn taskList__addBtn",disabled:o},"Add Task"))),r.a.createElement("ul",{className:"taskList__list"},o&&r.a.createElement("li",{className:"taskItem taskItem--".concat(t)},r.a.createElement(B,{type:"staging",id:t,closeForm:function(){return m(!1)}})),a.map((function(e){var t=e.key,a=e.task,n=e.status;return r.a.createElement(y,{key:t,id:t,task:a,status:n})}))))},I=function(){var e=n.useContext(p),t=e.taskItems,a=e.taskStatus;return n.createElement("section",{className:"taskLists"},a&&a.map((function(e){var a=t?t.filter((function(t){return t.status===e})):[];return n.createElement(F,{key:e,status:e,tasks:a})})))},x=function(){return n.createElement("footer",null,n.createElement("div",{className:"wrapper displayContainer"},n.createElement("p",null,"Copyright 2020"),n.createElement("p",null,"Created By ",n.createElement("a",{href:"https://andrefacey.com"},"Andre Facey")," at ",n.createElement("a",{href:"https://junocollege.com",target:"_blank",rel:"noopener noreferrer"},"Juno College")),n.createElement("p",null,"Design Inspiration from ",n.createElement("a",{href:"https://scottrs.ca",target:"_blank",rel:"noopener noreferrer"},"Scott Sobere-Yu")," and ",n.createElement("a",{href:"https://dribbble.com/shots/6250762-Kanban-Board",target:"_blank",rel:"noopener noreferrer"},"Nikita"))))},S=(a(31),function(){var e=Object(n.useContext)(c).theme;return r.a.createElement("div",{className:"pageContainer ".concat(e)},r.a.createElement(v,null),r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(N,null),r.a.createElement(I,null))),r.a.createElement(x,null))});s.render(n.createElement(n.StrictMode,null,n.createElement(E,null,n.createElement(o,null,n.createElement(g,null,n.createElement(S,null))))),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2c8e0bc2.chunk.js.map