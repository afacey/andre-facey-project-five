(this["webpackJsonpandre-facey-project-five"]=this["webpackJsonpandre-facey-project-five"]||[]).push([[0],{21:function(t,e,a){t.exports=a(34)},26:function(t,e,a){},33:function(t,e,a){},34:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(18),i=a.n(r),o=(a(26),a(2)),c=a(3),l=a(5),d=a(4),m=a(11),u=a.n(m);a(27);u.a.initializeApp({apiKey:"AIzaSyDBqq9f4CwQkWmvi0jA9or1uqWUTx73r_E",authDomain:"andre-facey-project-five.firebaseapp.com",databaseURL:"https://andre-facey-project-five.firebaseio.com",projectId:"andre-facey-project-five",storageBucket:"andre-facey-project-five.appspot.com",messagingSenderId:"940406876843",appId:"1:940406876843:web:d25925e9d0cc096f1b65ee"});var k=u.a,p=a(19),h=function(t){var e=t.id,a=t.type,s=t.handleSubmit,r=t.handleBlur,i=t.handleChange,o=t.addTask,c=t.taskValue,l=t.removeTask,d=t.toggleForm;return n.a.createElement("form",{action:"#",onSubmit:s,onBlur:r,className:"clearfix"},n.a.createElement("textarea",{className:"taskItem__editInput",id:"taskEdit_".concat(e),name:"taskEdit",onChange:i,value:c}),"edit"===a&&n.a.createElement("button",{type:"button",onClick:l,className:"btn__task btn__task--delete"},"Delete"),n.a.createElement("button",{type:"button",onClick:d,className:"btn__task btn__task--edit"},"Cancel"),n.a.createElement("button",{className:"btn__task btn__task--save"},"Save"),"add"===a&&n.a.createElement("button",{type:"button",onClick:o,className:"btn__task btn__task--add"},"Add"))},g=a(6),v=a(7),f=a(20),b=a.n(f),E=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this)).handleBlur=function(t){var e=t.currentTarget;setTimeout((function(){e.contains(document.activeElement)||s.setState({isEditing:!1})}),0)},s.handleChange=function(t){s.setState(Object(p.a)({},t.target.name,t.target.value))},s.handleEditSubmit=function(t){t.preventDefault(),s.props.editTask(s.props.id,s.state.taskEdit),s.setState({isEditing:!1})},s.handleMovePrev=function(){return s.props.moveTask(s.props.id,s.props.status,-1)},s.handleMoveNext=function(){return s.props.moveTask(s.props.id,s.props.status,1)},s.removeTask=function(){return s.props.removeTask(s.props.id)},s.toggleEdit=function(){return s.setState({isEditing:!s.state.isEditing})},s.state={taskEdit:t.task,isEditing:!1},s}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var t=document.querySelector("#taskEdit_".concat(this.props.id));t&&(b()(t),t.focus())}},{key:"render",value:function(){var t=this.props,e=t.id,a=t.task,s=t.status;return n.a.createElement("li",{className:"taskItem taskItem--".concat(s)},"open"!==s&&n.a.createElement("button",{className:"btn__task btn__task--prev",onClick:this.handleMovePrev},n.a.createElement(g.a,{icon:v.a,"aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Click to move task to the next status")),this.state.isEditing?n.a.createElement(h,{id:e,type:"edit",handleSubmit:this.handleEditSubmit,handleBlur:this.handleBlur,handleChange:this.handleChange,taskValue:this.state.taskEdit,removeTask:this.removeTask,toggleForm:this.toggleEdit}):n.a.createElement("p",{className:"taskItem__text",onClick:this.toggleEdit,onFocus:this.toggleEdit,tabIndex:"0"},a),"complete"!==s&&n.a.createElement("button",{className:"btn__task btn__task--next",onClick:this.handleMoveNext},n.a.createElement(g.a,{icon:v.b,"aria-hidden":"true"}),n.a.createElement("span",{className:"sr-only"},"Click to move task to the next status")))}}]),a}(s.Component),_=function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(t){var s;return Object(o.a)(this,a),(s=e.call(this,t)).toggleTaskStaging=function(){s.setState({isStaging:!s.state.isStaging})},s.handleStagingTask=function(t){s.setState({stagingTask:t.target.value})},s.handleAddTask=function(t){t.preventDefault(),s.state.stagingTask&&(s.props.addTask({task:s.state.stagingTask,status:s.props.status}),s.setState({isStaging:!1,stagingTask:""}))},s.state={isStaging:!1,stagingTask:""},s}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props,e=t.status,a=t.tasks,s=t.children,r=t.editTask,i=t.removeTask,o=t.moveTask;return n.a.createElement("div",{className:"taskList"},n.a.createElement("h2",{className:"taskList__heading taskList__heading--".concat(e," clearfix")},s,a.length>0&&n.a.createElement("span",{className:"taskList__count"},a.length),n.a.createElement("button",{onClick:this.toggleTaskStaging,className:"btn__taskList btn__taskList--add"},"+ Task"),n.a.createElement("button",{className:"btn__taskList btn__taskList--menu"},n.a.createElement(g.a,{icon:v.c}))),n.a.createElement("ul",{className:"taskList__list"},this.state.isStaging&&n.a.createElement("li",{className:"taskItem taskItem--".concat(e)},n.a.createElement("h3",null,"New Task"),n.a.createElement(h,{taskValue:this.state.stagingTask,handleSubmit:this.handleAddTask,toggleForm:this.toggleTaskStaging,onBlur:this.toggleTaskStaging,handleChange:this.handleStagingTask})),this.props.tasks.map((function(t){var e=t.key,a=t.task,s=t.status;return n.a.createElement(E,{key:e,id:e,task:a,status:s,editTask:r,removeTask:i,moveTask:o})}))))}}]),a}(s.Component),T=(a(33),function(t){Object(l.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(o.a)(this,a),(t=e.call(this)).clearTaskboard=function(t){return k.database().ref("tasks").remove()},t.addTask=function(t){return k.database().ref("tasks").push(t)},t.updateTask=function(t,e){return k.database().ref("tasks/"+t).update({task:e})},t.removeTask=function(t){return k.database().ref("tasks").child(t).remove()},t.moveTask=function(e,a,s){var n=k.database().ref("tasks/"+e),r=t.state.taskStatus,i=r.indexOf(a),o=i+s;(o=o<0?0:o>=r.length?r.length-1:o)!==i&&n.update({status:r[o]})},t.state={taskStatus:["open","inProgress","complete"],taskItems:[]},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this;k.database().ref("tasks").on("value",(function(e){var a=e.val(),s=[];for(var n in a){var r={key:n,task:a[n].task,status:a[n].status};s.push(r)}t.setState({taskItems:s})}))}},{key:"render",value:function(){var t=this,e={open:"Open",inProgress:"In Progress",complete:"Completed"};return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},n.a.createElement("div",{className:"wrapper flex-container"},n.a.createElement("h1",null,"Task Board"))),n.a.createElement("main",{className:"App-main"},n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"taskBoard__menu"},n.a.createElement("button",{onClick:this.clearTaskboard,className:"btn__taskList btn__taskList--clear",disabled:this.state.taskItems.length?"":"disabled"},"Clear Board")),n.a.createElement("div",{className:"taskLists"},this.state.taskStatus.map((function(a,s){var r=t.state.taskItems.filter((function(t){return t.status===a}));return n.a.createElement(_,{className:"taskList",key:s,status:a,tasks:r,addTask:t.addTask,moveTask:t.moveTask,removeTask:t.removeTask,editTask:t.updateTask},e[a])}))))),n.a.createElement("footer",null,n.a.createElement("div",{className:"wrapper"},n.a.createElement("p",null,"Copyright 2020 - Created By ",n.a.createElement("a",{href:"https://andrefacey.com"},"Andre Facey")," at ",n.a.createElement("a",{href:"https://junocollege.com"},"Juno College")," - Design Inspiration from Scott Sobere-Yu and ",n.a.createElement("a",{href:"https://dribbble.com/shots/6250762-Kanban-Board"},"Nikita")))))}}]),a}(s.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.8205bba0.chunk.js.map