(this["webpackJsonpandre-facey-project-five"]=this["webpackJsonpandre-facey-project-five"]||[]).push([[0],{21:function(e,t,a){e.exports=a(34)},26:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(20),l=a.n(r),i=(a(26),a(8)),c=a(4),o=a(5),m=a(7),u=a(6),d=a(13),k=a.n(d);a(27);k.a.initializeApp({apiKey:"AIzaSyDBqq9f4CwQkWmvi0jA9or1uqWUTx73r_E",authDomain:"andre-facey-project-five.firebaseapp.com",databaseURL:"https://andre-facey-project-five.firebaseio.com",projectId:"andre-facey-project-five",storageBucket:"andre-facey-project-five.appspot.com",messagingSenderId:"940406876843",appId:"1:940406876843:web:d25925e9d0cc096f1b65ee"});var h=k.a,p=function(e){var t=e.clearTaskboard,a=e.numOfTasks;return s.a.createElement("header",null,s.a.createElement("div",{className:"wrapper displayContainer"},s.a.createElement("div",{className:"header__text"},s.a.createElement("h1",null,"Task Board"),s.a.createElement("p",null,"Add and track tasks to increase productivity!")),s.a.createElement("button",{onClick:t,className:"btn btn--black btn__taskBoard btn__taskBoard--clear",disabled:a?"":"disabled"},"Clear Task Board")))},g=a(2),b=a(3),f=function(e){var t=e.handleChange,a=e.searchTerms;return s.a.createElement("section",{className:"taskBoard__menu"},s.a.createElement("div",{className:"inputContainer__filter"},s.a.createElement("span",{className:"srOnly"},"Filter the task items by list"),s.a.createElement("input",{type:"radio",className:"srOnly",name:"listFilter",id:"filterAll",value:"all",onChange:t,defaultChecked:!0}),s.a.createElement("label",{className:"btn btn--orange",htmlFor:"filterAll"},"All"),s.a.createElement("input",{type:"radio",className:"srOnly",name:"listFilter",id:"filterOpen",value:"open",onChange:t}),s.a.createElement("label",{className:"btn btn--red",htmlFor:"filterOpen"},"Open"),s.a.createElement("input",{type:"radio",className:"srOnly",name:"listFilter",id:"filterInProgress",value:"inProgress",onChange:t}),s.a.createElement("label",{className:"btn btn--blue",htmlFor:"filterInProgress"},"In Progress"),s.a.createElement("input",{type:"radio",className:"srOnly",name:"listFilter",id:"filterComplete",value:"complete",onChange:t}),s.a.createElement("label",{className:"btn btn--green",htmlFor:"filterComplete"},"Complete")),s.a.createElement("div",{className:"inputContainer__searchBar"},s.a.createElement("input",{className:"taskBoard__searchBar",type:"text",name:"searchTerms",id:"seachTerms",placeholder:"search",onChange:t,value:a}),s.a.createElement(g.a,{className:"taskBoard__searchBarIcon",icon:b.d,"aria-hidden":"true"})))},v=function(e){var t=e.id,a=e.type,n=e.handleSubmit,r=e.handleBlur,l=e.handleChange,i=e.addTask,c=e.taskValue,o=e.removeTask,m=e.toggleForm;return s.a.createElement(s.a.Fragment,null,s.a.createElement("h3",{className:"taskForm__heading"},"edit"===a?"Edit Task":"New Task"),s.a.createElement("form",{action:"#",onSubmit:n,onBlur:r,className:"taskForm"},s.a.createElement("textarea",{className:"taskForm__input",id:"taskFormInput_".concat(t),name:"taskFormInput",onChange:l,value:c}),s.a.createElement("button",{className:"btn btn--green"},"Save"),s.a.createElement("button",{type:"button",onClick:m,className:"btn btn--orange"},"Cancel"),"add"===a&&s.a.createElement("button",{type:"button",onClick:i,className:"btn__task btn__task--add"},"Add"),"edit"===a&&s.a.createElement("button",{type:"button",onClick:o,className:"btn btn--red"},"Delete")))},E=a(11),T=a.n(E),_=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this)).handleBlur=function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||n.setState({isEditing:!1})}),0)},n.handleChange=function(e){n.setState(Object(i.a)({},e.target.name,e.target.value))},n.handleEditSubmit=function(e){e.preventDefault(),n.props.editTask(n.props.id,n.state.taskFormInput),n.setState({isEditing:!1})},n.handleMovePrev=function(){return n.props.moveTask(n.props.id,n.props.status,-1)},n.handleMoveNext=function(){return n.props.moveTask(n.props.id,n.props.status,1)},n.removeTask=function(){return n.props.removeTask(n.props.id)},n.toggleEdit=function(){return n.setState({isEditing:!n.state.isEditing})},n.state={taskFormInput:e.task,isEditing:!1},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){var e=document.querySelector("#taskFormInput_".concat(this.props.id));e&&(T()(e),e.value="",e.focus(),e.value=this.state.taskFormInput)}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.task,n=e.status;return s.a.createElement("li",{className:"taskItem taskItem--".concat(n)},"open"!==n&&s.a.createElement("button",{className:"taskItem__btn taskItem__btn--prev",onClick:this.handleMovePrev},s.a.createElement(g.a,{icon:b.a,"aria-hidden":"true"}),s.a.createElement("span",{className:"srOnly"},"Click to move task to the previous status")),this.state.isEditing?s.a.createElement(v,{id:t,type:"edit",handleSubmit:this.handleEditSubmit,handleBlur:this.handleBlur,handleChange:this.handleChange,taskValue:this.state.taskFormInput,removeTask:this.removeTask,toggleForm:this.toggleEdit}):s.a.createElement("p",{className:"taskItem__text",onClick:this.toggleEdit,onFocus:this.toggleEdit,tabIndex:"0"},a),"complete"!==n&&s.a.createElement("button",{className:"taskItem__btn taskItem__btn--next",onClick:this.handleMoveNext},s.a.createElement(g.a,{icon:b.b,"aria-hidden":"true"}),s.a.createElement("span",{className:"srOnly"},"Click to move task to the next status")))}}]),a}(n.Component),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toggleMenuEnabled=function(){return n.setState({menuEnabled:!n.state.menuEnabled})},n.handleBlur=function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||n.setState({isStaging:!1})}),0)},n.handleStagingTask=function(e){return n.setState({stagingTask:e.target.value})},n.toggleTaskStaging=function(){return n.setState({isStaging:!n.state.isStaging})},n.handleAddTask=function(e){if(e.preventDefault(),n.state.stagingTask){var t=n.state.stagingTask,a=n.props.status;n.props.addTask({task:t,status:a}),n.setState({isStaging:!1,stagingTask:""})}},n.handleClearList=function(){var e=n.props,t=e.tasks,a=e.status,s=e.clearTaskList;t.length&&s(t.filter((function(e){return e.status===a})).reduce((function(e,t){return e[t.key]=null,e}),{}),a);n.setState({menuEnabled:!1})},n.state={isStaging:!1,stagingTask:"",menuEnabled:!1},n}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(){var e=document.querySelector("#taskFormInput_".concat(this.props.status));e&&(T()(e),e.value="",e.focus(),e.value=this.state.stagingTask)}},{key:"render",value:function(){var e=this.props,t=e.status,a=e.statusString,n=e.tasks,r=e.editTask,l=e.removeTask,i=e.moveTask;return s.a.createElement("div",{className:"taskList"},s.a.createElement("div",{className:"taskList__header taskList__header--".concat(t)},s.a.createElement("label",{htmlFor:"taskListMenuBtn",className:"srOnly"},"Click the button to toggle the task list menu to clear the task list's items"),s.a.createElement("button",{id:"taskListMenuBtn",className:this.state.menuEnabled?"btn taskList__menuBtn taskList__menuBtn--active":"btn taskList__menuBtn",onClick:this.toggleMenuEnabled},this.state.menuEnabled?s.a.createElement(g.a,{icon:b.e}):s.a.createElement(g.a,{icon:b.c})),s.a.createElement("h2",{className:"taskList__headingText"},a,n.length>0&&s.a.createElement("span",{className:"taskList__count"},n.length)),this.state.menuEnabled?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"taskListClearBtn",className:"srOnly"},"Click the button to clear the task list's items"),s.a.createElement("button",{onClick:this.handleClearList,className:"btn btn--black taskList__clearBtn",disabled:n.length?"":"disabled"},"Clear List")):s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{htmlFor:"taskListAddBtn",className:"srOnly"},"Click the button to toggle the add new task form"),s.a.createElement("button",{id:"taskListAddBtn",onClick:this.toggleTaskStaging,className:"btn taskList__addBtn"},"+ Task"))),s.a.createElement("ul",{className:"taskList__list"},this.state.isStaging&&s.a.createElement("li",{className:"taskItem taskItem--".concat(t)},s.a.createElement(v,{id:t,taskValue:this.state.stagingTask,handleSubmit:this.handleAddTask,toggleForm:this.toggleTaskStaging,handleBlur:this.handleBlur,handleChange:this.handleStagingTask})),this.props.tasks.map((function(e){var t=e.key,a=e.task,n=e.status;return s.a.createElement(_,{key:t,id:t,task:a,status:n,editTask:r,removeTask:l,moveTask:i})}))))}}]),a}(n.Component),y=function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"wrapper displayContainer"},s.a.createElement("p",null,"Copyright 2020"),s.a.createElement("p",null,"Created By ",s.a.createElement("a",{href:"https://andrefacey.com"},"Andre Facey")," at ",s.a.createElement("a",{href:"https://junocollege.com",target:"_blank",rel:"noopener noreferrer"},"Juno College")),s.a.createElement("p",null,"Design Inspiration from ",s.a.createElement("a",{href:"https://scottrs.ca",target:"_blank",rel:"noopener noreferrer"},"Scott Sobere-Yu")," and ",s.a.createElement("a",{href:"https://dribbble.com/shots/6250762-Kanban-Board",target:"_blank",rel:"noopener noreferrer"},"Nikita"))))},N=(a(33),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).clearTaskboard=function(t){h.database().ref("tasks").remove(),e.setState({searchItems:[]})},e.clearTaskList=function(t,a){h.database().ref("tasks").update(t);var n=e.state.searchItems.filter((function(e){return e.status!==a}));e.setState({searchItems:n})},e.addTask=function(e){return h.database().ref("tasks").push(e)},e.updateTask=function(e,t){return h.database().ref("tasks/"+e).update({task:t})},e.removeTask=function(e){return h.database().ref("tasks").child(e).remove()},e.moveTask=function(t,a,n){var s=h.database().ref("tasks/"+t),r=e.state.taskStatus,l=r.indexOf(a),i=l+n;(i=i<0?0:i>=r.length?r.length-1:i)!==l&&s.update({status:r[i]})},e.handleChange=function(t){var a=t.target,n=a.name,s=a.value;"searchTerms"===n&&e.state.taskItems.length?e.setState(Object(i.a)({},n,s),e.handleSearch):e.setState(Object(i.a)({},n,s))},e.handleSearch=function(){var t=e.state,a=t.searchTerms,n=t.taskItems,s=new RegExp(a,"i"),r=n.filter((function(e){var t=e.task;return s.test(t)}));e.setState({searchItems:r})},e.state={taskStatus:["open","inProgress","complete"],taskItems:[],listFilter:"all",searchTerms:"",searchItems:[]},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;h.database().ref("tasks").on("value",(function(t){var a=t.val(),n=[];for(var s in a){var r={key:s,task:a[s].task,status:a[s].status};n.push(r)}e.setState({taskItems:n})}))}},{key:"render",value:function(){var e={open:"Open",inProgress:"In Progress",complete:"Completed"},t=this.addTask,a=this.moveTask,n=this.removeTask,r=this.updateTask,l=this.handleChange,i=this.clearTaskboard,c=this.clearTaskList,o=this.state,m=o.taskStatus,u=o.taskItems,d=o.listFilter,k=o.searchItems,h=o.searchTerms,g=h.length?k:u,b="all"===d?m:[d];return s.a.createElement("div",{className:"pageContainer"},s.a.createElement(p,{clearTaskboard:i,numOfTasks:u.length}),s.a.createElement("main",null,s.a.createElement("div",{className:"wrapper"},s.a.createElement(f,{clearTaskboard:i,handleChange:l,searchTerms:h}),s.a.createElement("section",{className:"taskLists"},b.map((function(l,i){var o=g.filter((function(e){return e.status===l}));return s.a.createElement(C,{className:"taskList",key:l,status:l,statusString:e[l],tasks:o,addTask:t,moveTask:a,removeTask:n,editTask:r,clearTaskList:c})}))))),s.a.createElement(y,null))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[21,1,2]]]);
//# sourceMappingURL=main.7da59f06.chunk.js.map