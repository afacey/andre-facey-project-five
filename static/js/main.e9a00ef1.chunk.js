(this["webpackJsonpandre-facey-project-five"]=this["webpackJsonpandre-facey-project-five"]||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),o=a.n(r),i=(a(25),a(6)),c=a(7),l=a(9),m=a(8),u=a(11),d=a.n(u);a(26);d.a.initializeApp({apiKey:"AIzaSyDBqq9f4CwQkWmvi0jA9or1uqWUTx73r_E",authDomain:"andre-facey-project-five.firebaseapp.com",databaseURL:"https://andre-facey-project-five.firebaseio.com",projectId:"andre-facey-project-five",storageBucket:"andre-facey-project-five.appspot.com",messagingSenderId:"940406876843",appId:"1:940406876843:web:d25925e9d0cc096f1b65ee"});var k=d.a,p=a(19),f=a(2),h=a(3),v=function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this)).handleChange=function(e){n.setState(Object(p.a)({},e.target.id,e.target.value))},n.handleEditSubmit=function(e){e.preventDefault(),n.props.editTask(n.props.id,n.state.taskEdit),n.toggleEdit()},n.removeTask=function(){return n.props.removeTask(n.props.id)},n.toggleEdit=function(){return n.setState({isEditing:!n.state.isEditing})},n.state={taskEdit:e.task,isEditing:!1},n}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=document.querySelector("#taskEdit");e&&e.focus()}},{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.task,r=t.status;return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",{className:"taskItem"},s.a.createElement("button",{onClick:this.removeTask,className:"btn__task btn__task--delete"},s.a.createElement(f.a,{icon:h.d})),"open"!==r&&s.a.createElement("button",{className:"btn__task btn__task--prev",onClick:function(){return e.props.moveTask(a,r,-1)}},s.a.createElement(f.a,{icon:h.a,"aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Click to move task to the next status")),this.state.isEditing?s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{action:"#",onSubmit:this.handleEditSubmit},s.a.createElement("input",{type:"text",id:"taskEdit",name:"taskEdit",onBlur:this.toggleEdit,onChange:this.handleChange,value:this.state.taskEdit,autoComplete:"off"}),s.a.createElement("button",{className:"btn__task btn__task--save"},"Save"))):s.a.createElement("p",{onClick:this.toggleEdit},n),"complete"!==r&&s.a.createElement("button",{className:"btn__task btn__task--next",onClick:function(){return e.props.moveTask(a,r,1)}},s.a.createElement(f.a,{icon:h.b,"aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Click to move task to the next status"))))}}]),a}(n.Component),E=function(e){return s.a.createElement("div",{className:"taskList"},s.a.createElement("h2",{className:e.status+" clearfix"},e.children,e.tasks.length>0&&s.a.createElement("span",null,"(",e.tasks.length,")")),s.a.createElement("ul",{className:""},e.tasks.map((function(t){var a=t.key,n=t.task,r=t.status;return s.a.createElement(v,{key:a,id:a,task:n,status:r,editTask:e.editTask,removeTask:e.removeTask,moveTask:e.moveTask})})),s.a.createElement("button",{className:"btn__taskList"},s.a.createElement(f.a,{icon:h.c,size:"2x"}))))},b=(a(32),function(e){Object(l.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).handleTaskChange=function(t){return e.setState({newTask:t.target.value})},e.removeTask=function(e){k.database().ref("tasks").child(e).remove()},e.moveTask=function(t,a,n){var s=k.database().ref("tasks/"+t),r=e.state.taskStatus,o=r.indexOf(a),i=o+n;(i=i<0?0:i>=r.length?r.length-1:i)!==o&&s.update({status:r[i]})},e.addTask=function(t){t.preventDefault();var a=k.database().ref("tasks"),n={task:e.state.newTask,status:e.state.taskStatus[0]};a.push(n),e.setState({newTask:""})},e.updateTask=function(e,t){k.database().ref("tasks/"+e).update({task:t})},e.state={newTask:"",taskStatus:["open","inProgress","complete"],taskItems:[]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;k.database().ref("tasks").on("value",(function(t){var a=t.val(),n=[];for(var s in a){var r={key:s,task:a[s].task,status:a[s].status};n.push(r)}e.setState({taskItems:n})}))}},{key:"render",value:function(){var e=this,t={open:"Open",inProgress:"In Progress",complete:"Completed"};return s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("h1",null,"Task Board"),s.a.createElement("form",{action:"#",onSubmit:function(t){return e.addTask(t)}},s.a.createElement("label",{htmlFor:"task",className:"sr-only"},"Add A New Task"),s.a.createElement("input",{onChange:this.handleTaskChange,type:"text",name:"task",id:"task",placeholder:"add a task",value:this.state.newTask,autoComplete:"off"}),s.a.createElement("button",null,"Add Task!")))),s.a.createElement("main",{className:"App-main"},s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"taskLists"},this.state.taskStatus.map((function(a,n){var r=e.state.taskItems.filter((function(e){return e.status===a}));return s.a.createElement(E,{className:"taskList",key:n,status:a,tasks:r,moveTask:e.moveTask,removeTask:e.removeTask,editTask:e.updateTask},t[a])}))))),s.a.createElement("footer",null,s.a.createElement("div",{className:"wrapper"},s.a.createElement("p",null,"Copyright 2020 - Created By ",s.a.createElement("a",{href:"https://andrefacey.com"},"Andre Facey")," at ",s.a.createElement("a",{href:"https://junocollege.com"},"Juno College")," - Design Inspiration from ",s.a.createElement("a",{href:"https://dribbble.com/shots/6250762-Kanban-Board"},"Nikita")))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.e9a00ef1.chunk.js.map