(this.webpackJsonptaskboard=this.webpackJsonptaskboard||[]).push([[0],{18:function(e,t,a){e.exports=a(33)},23:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),l=a.n(s),c=(a(23),a(2)),o=r.a.createContext(),i=function(e){var t=e.children,a=Object(n.useState)(""),s=Object(c.a)(a,2),l={theme:s[0],setTheme:s[1]};return r.a.createElement(o.Provider,{value:l},t)},m=a(4),u=a(3),d=a(5),b=a.n(d);a(28),a(30);b.a.initializeApp({apiKey:"AIzaSyCf4r4_JiAWZjMYxHx2oPdOOPBunUeG9zg",authDomain:"taskboard-drethedev.firebaseapp.com",databaseURL:"https://taskboard-drethedev.firebaseio.com",projectId:"taskboard-drethedev",storageBucket:"taskboard-drethedev.appspot.com",messagingSenderId:"868447749524",appId:"1:868447749524:web:bc280f2ee21da6c3fe7b81"});var k=b.a,h=a(11),f=a.n(h),E=r.a.createContext(),g=function(e){var t=e.children,a=Object(n.useState)({dbRef:"public/",loggedIn:!1}),s=Object(c.a)(a,2),l=s[0],o=s[1],i=Object(n.useState)(!0),m=Object(c.a)(i,2),u=m[0],d=m[1];Object(n.useEffect)((function(){k.auth().onAuthStateChanged((function(e){e&&o({dbRef:e.uid+"/",loggedIn:!0}),d(!1)}))}),[]);var b={user:l,checkForUser:u,setUser:o,signInUser:function(){var e=new k.auth.GoogleAuthProvider;k.auth().signInWithPopup(e).then((function(e){var t=e.user;o({dbRef:t.uid+"/",loggedIn:!0}),d(!0)})).catch((function(e){f.a.fire({title:"Oops!",text:"There was an error signing in: "+e,icon:"error",confirmButton:"OK"})}))},logoutUser:function(){k.auth().signOut().then((function(){o({dbRef:"public/",loggedIn:!1}),d(!0),console.log("user logged out")})).catch((function(e){f.a.fire({title:"Oops!",text:"There was an error while logging out: ",error:e,icon:"error",confirmButton:"OK"})}))}};return r.a.createElement(E.Provider,{value:b},t)},p=r.a.createContext(),_=function(e){var t=e.children,a=Object(n.useState)(!1),s=Object(c.a)(a,2),l=s[0],o=s[1],i=Object(n.useState)([]),m=Object(c.a)(i,2),u=m[0],d=m[1],k=Object(n.useContext)(E),h=k.user.dbRef,f=k.checkForUser,g=Object(n.useState)("all"),_=Object(c.a)(g,2),v=_[0],O=_[1],N=Object(n.useState)(""),C=Object(c.a)(N,2),B=C[0],y=C[1],I=Object(n.useState)([]),j=Object(c.a)(I,2),F=j[0],S=j[1],x=Object(n.useCallback)((function(){return function(e,t){b.a.database().ref(e).on("value",(function(e){var a=e.val(),n=[];for(var r in a){var s={key:r,task:a[r].task,status:a[r].status};n.push(s)}t(n)}))}(h,d)}),[h]);Object(n.useEffect)((function(){f||(x(),o(!0))}),[f,x]);Object(n.useEffect)((function(){if(B){var e=new RegExp(B,"i"),t=u.filter((function(t){var a=t.task;return e.test(a)}));S(t)}}),[B,u]);var T=B.length?F:u,L={taskStatus:"all"===v?["open","inProgress","complete"]:[v],taskItems:T,numOfTasks:T.length,loadComplete:l,searchTerms:B,setSearchItems:S,setSearchTerms:y,setListFilter:O};return r.a.createElement(p.Provider,{value:L},t)},v=function(e){var t=Object(n.useContext)(o),a=t.theme,s=t.setTheme,l=Object(n.useContext)(E),c=l.user,i=c.dbRef,m=c.loggedIn,u=l.signInUser,d=l.logoutUser,k=Object(n.useContext)(p),h=k.taskItems,f=k.loadComplete,g=h?h.length:0;return r.a.createElement("div",{className:"settings"},r.a.createElement("button",{onClick:function(){!function(e){b.a.database().ref(e).remove()}(i)},className:"btn btn--black btn__taskBoard btn__taskBoard--clear",disabled:g?"":"disabled"},"Clear Task Board"),f?m?r.a.createElement("button",{onClick:d,className:"btn btn--green btn__taskBoard btn__taskBoard--auth"},"Log Out"):r.a.createElement("button",{onClick:u,className:"btn btn--red btn__taskBoard btn__taskBoard--auth"},"Sign In With Google"):null,r.a.createElement("input",{className:"themeToggle__checkbox sr-only",type:"checkbox",name:"themeToggle",id:"themeToggle",onChange:function(){s("dark"===a?"":"dark")},defaultChecked:"dark"===a}),r.a.createElement("label",{className:"themeToggle__label",htmlFor:"themeToggle"},"dark"===a?"Light":"Dark"," Mode ",r.a.createElement("span",{className:"themeToggle__toggler"})))},O=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],s=t[1];return r.a.createElement("header",null,r.a.createElement("div",{className:"wrapper displayContainer"},r.a.createElement("div",{className:"header__text"},r.a.createElement("h1",null,"Task Board"),r.a.createElement("p",null,"Add and track tasks to increase productivity!")),r.a.createElement("div",{className:"header__buttons"},r.a.createElement("h2",{onClick:a?function(){s(!1)}:function(){s(!0)}},r.a.createElement("span",null,"Settings "),r.a.createElement(m.a,{icon:a?u.f:u.b})),a&&r.a.createElement(v,null))))},N=function(){var e=Object(n.useContext)(p),t=e.setListFilter,a=e.searchTerms,s=e.setSearchTerms,l=e.setSearchItems,c=e.numOfTasks,o=function(e){t(e.target.value)};return r.a.createElement("section",{className:"taskBoard__menu"},r.a.createElement("fieldset",{className:"taskBoard__listFilter"},r.a.createElement("div",{className:"inputContainer__filter"},r.a.createElement("legend",{className:"srOnly"},"Filter the task items by list"),r.a.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterAll",value:"all",onChange:o,defaultChecked:!0}),r.a.createElement("label",{className:"btn btn--black",htmlFor:"filterAll"},"All"),r.a.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterOpen",value:"open",onChange:o}),r.a.createElement("label",{className:"btn btn--red",htmlFor:"filterOpen"},"Open"),r.a.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterInProgress",value:"inProgress",onChange:o}),r.a.createElement("label",{className:"btn btn--blue",htmlFor:"filterInProgress"},"In Progress"),r.a.createElement("input",{type:"radio",className:"srOnly taskBoard__filterInput",name:"listFilter",id:"filterComplete",value:"complete",onChange:o}),r.a.createElement("label",{className:"btn btn--green",htmlFor:"filterComplete"},"Complete"))),r.a.createElement("div",{className:"inputContainer__searchBar"},r.a.createElement("label",{htmlFor:"searchTerms",className:"srOnly"},"Search for task items"),r.a.createElement("input",{className:"taskBoard__searchBar",type:"text",name:"searchTerms",id:"searchTerms",placeholder:"search",onChange:function(e){c&&s(e.target.value)},value:a}),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"searchBarBtn",className:"srOnly"},"Button to clear the search terms"),r.a.createElement("button",{id:"searchBarBtn",className:"taskBoard__searchBarBtn",onClick:function(){s(""),l([])}},r.a.createElement(m.a,{className:"taskBoard__searchBarIcon--clear",icon:u.f,"aria-hidden":"true"}))):r.a.createElement(m.a,{className:"taskBoard__searchBarIcon",icon:u.e,"aria-hidden":"true"})))},C=a(17),B=a.n(C),y=function(e){var t=e.id,a=e.type,s=e.taskValue,l=e.setIsStaging,o=e.setIsEditing,i=Object(n.useContext)(E).user,m=Object(n.useState)(s||""),u=Object(c.a)(m,2),d=u[0],k=u[1];Object(n.useEffect)((function(){var e=document.querySelector("#taskFormInput_".concat(t));e&&e!==document.activeElement&&(B()(e),e.value="",e.focus(),e.value=d)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"taskForm__heading"},"edit"===a?"Edit Task":"New Task"),r.a.createElement("form",{action:"#",onSubmit:"edit"===a?function(e){var a,n,r;e.preventDefault(),a=i.dbRef,n=t,r=d,b.a.database().ref(a+n).update({task:r}),o(!1)}:function(e){e.preventDefault();var a={task:d,status:t};!function(e,t){console.log("add task called"),b.a.database().ref(e).push(t)}(i.dbRef,a),l(!1)},onBlur:function(e){var t=e.currentTarget;setTimeout((function(){t.contains(document.activeElement)||("edit"===a?o(!1):l(!1))}),100)},className:"taskForm"},r.a.createElement("label",{htmlFor:"taskFormInput_".concat(t),className:"srOnly"},"Task Item"),r.a.createElement("textarea",{className:"taskForm__input",id:"taskFormInput_".concat(t),name:"taskFormInput",onChange:function(e){k(e.target.value)},value:d}),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskBtn__clear--".concat(t),className:"srOnly"},"Clear task input"),r.a.createElement("button",{id:"taskBtn__clear--".concat(t),type:"button",onClick:function(){return k("")},className:"btn btn--black"},"Clear")),"edit"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskBtn__delete--".concat(t),className:"srOnly"},"Delete task"),r.a.createElement("button",{id:"taskBtn__delete--".concat(t),type:"button",onClick:function(){var e,a;e=i.dbRef,a=t,b.a.database().ref(e).child(a).remove()},className:"btn btn--red"},"Delete")),r.a.createElement("label",{htmlFor:"taskBtn__save--".concat(t),className:"srOnly"},"Save task input"),r.a.createElement("button",{id:"taskBtn__save--".concat(t),className:"btn btn--green",disabled:d?"":"disabled"},"edit"===a?"Save":"Add")))},I=function(e){var t=e.id,a=e.task,s=e.status,l=Object(n.useState)(!1),o=Object(c.a)(l,2),i=o[0],d=o[1],k=Object(n.useContext)(E).user.dbRef,h=Object(n.useContext)(p).taskStatus,f=function(e){var a=h.indexOf(s)+e;a=a<0?0:a>=h.length?h.length-1:a,s!==h[a]&&function(e,t){b.a.database().ref(e).update({status:t})}(k+t,h[a])},g=function(){d(!i)};return r.a.createElement("li",{className:"taskItem taskItem--".concat(s)},"open"!==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"btnPrev--".concat(t),className:"srOnly"},"Move task to the previous status"),r.a.createElement("button",{id:"btnPrev--".concat(t),className:"taskItem__btn taskItem__btn--prev",onClick:function(){f(-1)}},r.a.createElement(m.a,{icon:u.c,"aria-hidden":"true"}),r.a.createElement("span",{className:"srOnly"},"Move task to the previous status"))),i?r.a.createElement(y,{id:t,type:"edit",taskValue:a,setIsEditing:d}):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskItem--".concat(t),className:"srOnly"},"Click or focus on the text of the task to enter edit mode and modify or delete the task"),r.a.createElement("button",{id:"taskItem--".concat(t),className:"taskItem__text",onClick:g,onFocus:g},a)),"complete"!==s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"btnNext--".concat(t),className:"srOnly"},"Move task to the previous status"),r.a.createElement("button",{id:"btnNext--".concat(t),className:"taskItem__btn taskItem__btn--next",onClick:function(){f(1)}},r.a.createElement(m.a,{icon:u.d,"aria-hidden":"true"}),r.a.createElement("span",{className:"srOnly"},"Click to move task to the next status"))))},j=function(e){var t=e.status,a=e.tasks,s=e.moveTask,l=Object(n.useState)(!1),o=Object(c.a)(l,2),i=o[0],d=o[1],k=Object(n.useState)(!1),h=Object(c.a)(k,2),f=h[0],g=h[1],p=Object(n.useContext)(E).user;return r.a.createElement("div",{className:"taskList"},r.a.createElement("div",{className:"taskList__header taskList__header--".concat(t)},r.a.createElement("label",{htmlFor:"taskListMenuBtn--".concat(t),className:"srOnly"},"Click the button to toggle the task list menu to clear the task list's items"),r.a.createElement("button",{id:"taskListMenuBtn--".concat(t),className:f?"btn taskList__menuBtn taskList__menuBtn--active":"btn taskList__menuBtn",onClick:function(){return g(!f)}},r.a.createElement("span",{className:"srOnly"},"Toggle the task list's menu"),f?r.a.createElement(m.a,{icon:u.f}):r.a.createElement(m.a,{icon:u.a})),r.a.createElement("h2",{className:"taskList__headingText"},{open:"Todo",inProgress:"In Progress",complete:"Completed"}[t],a.length>0&&r.a.createElement("span",{className:"taskList__count"},a.length)),f?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskListClearBtn--".concat(t),className:"srOnly"},"Click the button to clear the task list's items"),r.a.createElement("button",{id:"taskListClearBtn--".concat(t),onClick:function(){if(a.length){var e=a.filter((function(e){return e.status===t})).reduce((function(e,t){return e[t.key]=null,e}),{});!function(e,t){b.a.database().ref(e).update(t)}(p.dbRef,e)}g(!1)},className:"btn btn--black taskList__clearBtn",disabled:a.length?"":"disabled"},"Clear List")):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"taskListAddBtn--".concat(t),className:"srOnly"},"Click the button to toggle the add new task form"),r.a.createElement("button",{id:"taskListAddBtn--".concat(t),onClick:function(){return d(!i)},className:"btn taskList__addBtn",disabled:i?"disabled":""},"+ Task"))),r.a.createElement("ul",{className:"taskList__list"},i&&r.a.createElement("li",{className:"taskItem taskItem--".concat(t)},r.a.createElement(y,{id:t,setIsStaging:d})),a.map((function(e){var t=e.key,a=e.task,n=e.status;return r.a.createElement(I,{key:t,id:t,task:a,status:n,moveTask:s})}))))},F=function(){var e=Object(n.useContext)(p),t=e.taskItems,a=e.taskStatus;return r.a.createElement("section",{className:"taskLists"},a.map((function(e){var a=t.filter((function(t){return t.status===e}));return r.a.createElement(j,{className:"taskList",key:e,status:e,tasks:a})})))},S=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"wrapper displayContainer"},r.a.createElement("p",null,"Copyright 2020"),r.a.createElement("p",null,"Created By ",r.a.createElement("a",{href:"https://andrefacey.com"},"Andre Facey")," at ",r.a.createElement("a",{href:"https://junocollege.com",target:"_blank",rel:"noopener noreferrer"},"Juno College")),r.a.createElement("p",null,"Design Inspiration from ",r.a.createElement("a",{href:"https://scottrs.ca",target:"_blank",rel:"noopener noreferrer"},"Scott Sobere-Yu")," and ",r.a.createElement("a",{href:"https://dribbble.com/shots/6250762-Kanban-Board",target:"_blank",rel:"noopener noreferrer"},"Nikita"))))},x=(a(32),function(){var e=Object(n.useContext)(o).theme;return r.a.createElement("div",{className:"pageContainer ".concat(e)},r.a.createElement(O,null),r.a.createElement("main",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(N,null),r.a.createElement(F,null))),r.a.createElement(S,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null,r.a.createElement(i,null,r.a.createElement(_,null,r.a.createElement(x,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.2ccfc2fc.chunk.js.map